[package]
name = "cestory-api"
version = "0.2.0"
edition = "2021"
resolver = "2"

[dependencies]
sp-core = { workspace = true, features = ["full_crypto"] }
sp-runtime = { workspace = true }
parity-scale-codec = { workspace = true, features = ["derive"] }
scale-info = { workspace = true, features = ["derive"] }
serde = { workspace = true, features = ["derive"] }
prost = { workspace = true }
async-trait = { workspace = true }
anyhow = { workspace = true, optional = true }
tonic = { workspace = true }

ces-types = { workspace = true, features = ["enable_serde", "full_crypto"] }
ces-crypto = { workspace = true }

subxt = { workspace = true, default-features = false, features = [
    "native",
    "runtime-wasm-path",
] }

[dev-dependencies]
tokio = { workspace = true, features = ["full"] }


[build-dependencies]
tonic-build = { workspace = true, features = ["prost"] }
hex = { workspace = true }
smoldot = { workspace = true, default-features = false }
ces-types = { workspace = true }

[features]
default = ["std"]

std = [
    "sp-core/std",
    "sp-runtime/std",
    "ces-types/std",
    "ces-crypto/std",
]

api-client = []